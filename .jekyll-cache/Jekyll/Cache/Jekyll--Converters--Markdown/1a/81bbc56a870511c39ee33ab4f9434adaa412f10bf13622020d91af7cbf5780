I"R]<h2 id="0-swiftì—ì„œì˜-switchë¬¸">0. Swiftì—ì„œì˜ switchë¬¸</h2>
<p>fallthroughë¥¼ ì•Œì•„ë³´ê¸° ì „, Swiftì—ì„œì˜ switchë¬¸ê³¼ Cì—ì„œì˜ switchë¬¸ì˜ ì°¨ì´ë¥¼ ì•Œì•„ë³´ì.<br />
<br />
Cì—ì„œì˜ switchë¬¸ì€ ê° case ë§ˆë‹¤ ëì— breakë¬¸ì„ ì‚½ì…í•˜ì§€ ì•Šìœ¼ë©´ ëª¨ë“  caseë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤<br />
<br />
í•˜ì§€ë§Œ Swiftì—ì„œì˜ switchë¬¸ì€ ê° case ì¡°ê±´ì— ì¼ì¹˜í•˜ë©´ í•´ë‹¹ caseê°€ ì™„ë£Œë˜ìë§ˆì ì‹¤í–‰ì„ ì¢…ë£Œí•œë‹¤.<br />
<br />
ë”°ë¼ì„œ, Swiftì˜ switchë¬¸ì€ Cì—ì„œì™€ ê°™ì€ ë¬¸ì œë¥¼ ë³´ì™„í•˜ì—¬ ë” ê°„ê²°í•˜ë©´ì„œ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³ , ì‹¤ìˆ˜ë¡œ ì—¬ëŸ¬ caseë“¤ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ í”¼í•  ìˆ˜ ìˆëŠ” ì¥ì ì„ ê°€ì§„ë‹¤.<br />
<br /></p>

<h3 id="1-fallthrough">1. fallthrough</h3>
<p>ìœ„ì—ì„œ ì•Œì•„ë´¤ë“¯, Swiftì˜ switchë¬¸ì€ Cì—ì„œì˜ switchë¬¸ì˜ ë¶ˆí¸í•¨ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¤ë¥´ê²Œ ë§Œë“¤ì–´ì¡Œë‹¤.<br />
<br />
í•˜ì§€ë§Œ Cì—ì„œì™€ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•˜ëŠ” switchë¬¸ì„ í•„ìš”ë¡œ í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ëŒ€ì²´í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•œ ê²ƒì´ <code class="language-plaintext highlighter-rouge">fallthrough</code>ë¬¸ ì´ë‹¤.<br /></p>

<p>ì•„ë˜ ì˜ˆì œë¥¼ í†µí•´ ì•Œì•„ë³´ì.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">enum</span> <span class="kt">CoffeeMachineType</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">iceAmericano</span>
    <span class="k">case</span> <span class="n">iceWater</span>
    <span class="k">case</span> <span class="n">water</span>

    <span class="k">var</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span>
        <span class="k">switch</span> <span class="k">self</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">iceAmericano</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">"ì•„ì´ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸ğŸ¥¤"</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">iceWater</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">"ì–¼ìŒë¬¼ğŸ§Š"</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">water</span><span class="p">:</span>
            <span class="k">return</span> <span class="s">"ë¬¼ğŸ’§"</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">selectMenu</span><span class="p">(</span><span class="nv">selectedMenu</span><span class="p">:</span> <span class="kt">CoffeeMachineType</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">selectedMenu</span><span class="o">.</span><span class="n">name</span><span class="se">)</span><span class="s">ì„ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤. ì œì¡° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤..."</span><span class="p">)</span>
    <span class="k">switch</span> <span class="n">selectedMenu</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">iceAmericano</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ì—ìŠ¤í”„ë ˆì†Œ ìƒ·ì„ ë„£ì—ˆìŠµë‹ˆë‹¤..."</span><span class="p">)</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">iceWater</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ì–¼ìŒì„ ë„£ì—ˆìŠµë‹ˆë‹¤..."</span><span class="p">)</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">water</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ë¬¼ì„ ë„£ì—ˆìŠµë‹ˆë‹¤..."</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤, ë§›ìˆê²Œë“œì„¸ìš” !! ğŸ˜„"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nf">selectMenu</span><span class="p">(</span><span class="nv">selectedMenu</span><span class="p">:</span> <span class="o">.</span><span class="n">iceAmericano</span><span class="p">)</span>

<span class="cp">#=&gt; prints ì•„ì´ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸ğŸ¥¤ì„ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤. ì œì¡° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤...</span>
<span class="cp">#=&gt; prints ì—ìŠ¤í”„ë ˆì†Œ ìƒ·ì„ ë„£ì—ˆìŠµë‹ˆë‹¤...</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">CoffeeMachineType</code> íƒ€ì…ì˜ enumì„ ì„ ì–¸í•˜ì˜€ë‹¤.<br />
<br />
ê·¸ë¦¬ê³  <code class="language-plaintext highlighter-rouge">selectMenu</code>ë©”ì†Œë“œë¥¼ í†µí•´ ì›í•˜ëŠ” ìŒë£Œë¥¼ ì„ íƒí•˜ë©´ ì„ íƒí•œ ìŒë£Œì™€ ì œì¡°ê³¼ì •ì´ ë‚˜íƒ€ë‚œë‹¤.<br />
<br />
í•˜ì§€ë§Œ ê¸°ì¡´ì˜ switchë¬¸ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">.iceAmericano</code> caseê°€ ì‹¤í–‰ëœ í›„ switchë¬¸ì´ ì™„ë£Œë¬ìŒì„ ì•Œ ìˆ˜ ìˆë‹¤. <br />
<br />
ë‚˜ëŠ” ì•„ì•„ì œì¡°ê³¼ì •ì˜ ë² ì´ìŠ¤ê°€ ë˜ëŠ” ì–¼ìŒì„ ë„£ëŠ” ê³¼ì •ê³¼ ë¬¼ì„ ë„£ëŠ” ê³¼ì •ì„ ìƒìœ„ caseë¥¼ ì„ íƒí•˜ì˜€ì„ ë•Œë„ ë„£ê³ ì‹¶ë‹¤.<br />
<br />
ì´ëŸ¬í•œ ê²½ìš°ì— <code class="language-plaintext highlighter-rouge">fallthrough</code>ë¬¸ì„ ì‚¬ìš©í•´ë³´ì.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kd">func</span> <span class="nf">selectMenu</span><span class="p">(</span><span class="nv">selectedMenu</span><span class="p">:</span> <span class="kt">CoffeeMachineType</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">selectedMenu</span><span class="o">.</span><span class="n">name</span><span class="se">)</span><span class="s">ì„ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤. ì œì¡° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤..."</span><span class="p">)</span>
    <span class="k">switch</span> <span class="n">selectedMenu</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">iceAmericano</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ì—ìŠ¤í”„ë ˆì†Œ ìƒ·ì„ ë„£ìŠµë‹ˆë‹¤..."</span><span class="p">)</span>
        <span class="k">fallthrough</span>                   <span class="c1">// ë‹¤ìŒ case ë˜í•œ í¬í•¨í• ê²ƒì´ë¯€ë¡œ fallthroughë¬¸ ì‚¬ìš©</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">iceWater</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ì–¼ìŒì„ ë„£ìŠµë‹ˆë‹¤..."</span><span class="p">)</span>
        <span class="k">fallthrough</span>                   <span class="c1">// ë‹¤ìŒ case ë˜í•œ í¬í•¨í• ê²ƒì´ë¯€ë¡œ fallthroughë¬¸ ì‚¬ìš©</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">water</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ë¬¼ì„ ë„£ìŠµë‹ˆë‹¤..."</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤, ë§›ìˆê²Œë“œì„¸ìš” !! ğŸ˜„"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="nf">selectMenu</span><span class="p">(</span><span class="nv">selectedMenu</span><span class="p">:</span> <span class="o">.</span><span class="n">iceAmericano</span><span class="p">)</span>

<span class="cp">#=&gt; prints ì•„ì´ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸ğŸ¥¤ì„ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤. ì œì¡° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤...</span>
<span class="cp">#=&gt; prints ì—ìŠ¤í”„ë ˆì†Œ ìƒ·ì„ ë„£ìŠµë‹ˆë‹¤...</span>
<span class="cp">#=&gt; prints ì–¼ìŒì„ ë„£ìŠµë‹ˆë‹¤...</span>
<span class="cp">#=&gt; prints ë¬¼ì„ ë„£ìŠµë‹ˆë‹¤...</span>
<span class="cp">#=&gt; prints ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤, ë§›ìˆê²Œë“œì„¸ìš” !! ğŸ˜„</span></code></pre></figure>

<h3 id="2-disposebag">2. DisposeBag</h3>
<p>êµ¬ë…í•´ì œë¥¼ <code class="language-plaintext highlighter-rouge">dispose()</code>ë¡œ í•œë‹¤ê³  ì•Œì•˜ëŠ”ë°â€¦ <code class="language-plaintext highlighter-rouge">DisposeBag</code>ì€ ë¬´ì—‡ì¼ê¹Œ?<br />
<br />
ì¼ë‹¨ ì½”ë“œë¥¼ í†µí•´ ë³´ë„ë¡ í•˜ì.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">let</span> <span class="nv">disposeBag</span> <span class="o">=</span> <span class="kt">DisposeBag</span><span class="p">()</span>

<span class="kt">Observable</span><span class="o">.</span><span class="nf">of</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
    <span class="o">.</span><span class="n">subscribe</span><span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>

<span class="cp">#=&gt; prints ì•„ì´ìŠ¤ ì•„ë©”ë¦¬ì¹´ë…¸ğŸ¥¤ì„ ì„ íƒí•˜ì…¨ìŠµë‹ˆë‹¤. ì œì¡° ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤...</span>
<span class="cp">#=&gt; prints ì—ìŠ¤í”„ë ˆì†Œ ìƒ·ì„ ë„£ì—ˆìŠµë‹ˆë‹¤...</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">disposed(by:)</code>ëŠ” <code class="language-plaintext highlighter-rouge">dispose()</code>ì™€ ë™ì¼í•˜ê²Œ êµ¬ë…í•´ì œë¥¼ ìœ„í•´ ì‘ì„±í•˜ì˜€ë‹¤.<br />
<br />
<code class="language-plaintext highlighter-rouge">disposeBag</code>ì€ <code class="language-plaintext highlighter-rouge">disposed(by:)</code>ë¥¼ í†µí•´ <code class="language-plaintext highlighter-rouge">disposable</code>íƒ€ì…ìœ¼ë¡œ Observableì„ ë°›ê³ , <code class="language-plaintext highlighter-rouge">disposeBag</code>ì´ í• ë‹¹í•´ì œë¥¼ í•  ë•Œë§ˆë‹¤ ë‹´ê²¨ì ¸ ìˆëŠ” ëª¨ë“  <code class="language-plaintext highlighter-rouge">disposable</code>ë“¤ì—ê²Œ <code class="language-plaintext highlighter-rouge">dispose()</code>ë¥¼ í˜¸ì¶œí•œë‹¤.<br />
<br />
ë”°ë¼ì„œ ìœ„ ì½”ë“œì˜ Observableì€ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë“¤ì„ printí•˜ê³  êµ¬ë… í›„ ë°©ì¶œëœ return ê°’ë“¤ì„ <code class="language-plaintext highlighter-rouge">disposeBag</code>ì— ì¶”ê°€í•˜ëŠ” ê²ƒì´ë‹¤.<br />
<br />
<code class="language-plaintext highlighter-rouge">dispose</code>ì™€ <code class="language-plaintext highlighter-rouge">disposeBag</code>ì€ êµ¬ë…í•  ë•Œ ë§ˆë‹¤ í• ë‹¹í•˜ëŠ” ê²ƒ ê°™ì•„ ë¶ˆí¸í•´ ë³´ì´ì§€ë§Œ, ëë‚˜ì§€ ì•ŠëŠ” Observableì¼ ê²½ìš° ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì— ë§¤ë²ˆ Observableì„ ìƒì„±í•˜ë©´ <code class="language-plaintext highlighter-rouge">disposeBag</code>ì„ ë§Œë“œëŠ”ê²Œ ë¬´ì¡°ê±´ í•„ìš”í•˜ë‹¤.<br />
<br />
ì´í›„ í•˜ë‹¨ì˜ ì˜ˆì‹œì—ëŠ” ëª¨ë‘ <code class="language-plaintext highlighter-rouge">disposeBag</code>ì„ ì„ ì–¸í–ˆë‹¤ëŠ” ê°€ì • í•˜ì— ì‘ì„±í•˜ë„ë¡ í•˜ê² ë‹¤.</p>

<h2 id="1-create">1. create</h2>
<p><code class="language-plaintext highlighter-rouge">create</code>ì€ observerë¥¼ ì „ë‹¬ë°›ì•„ <code class="language-plaintext highlighter-rouge">Disposable</code>ì„ ë°˜í™˜í•˜ëŠ” escaping í´ë¡œì €ì´ë‹¤.</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// create 1</span>
<span class="kt">Observable</span><span class="o">.</span><span class="n">create</span> <span class="p">{</span> <span class="n">observer</span> <span class="o">-&gt;</span> <span class="kt">Disposable</span> <span class="k">in</span>
    <span class="n">observer</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">observer</span><span class="o">.</span><span class="nf">onCompleted</span><span class="p">()</span>
    <span class="n">observer</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="kt">Disposables</span><span class="o">.</span><span class="nf">create</span><span class="p">()</span>
<span class="p">}</span>
<span class="o">.</span><span class="n">subscribe</span> <span class="p">{</span>
    <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span>
<span class="p">}</span>

<span class="cp">#=&gt; prints 1</span></code></pre></figure>

<p>ë‹¤ìŒê³¼ ê°™ì´ Observableì„ ìƒì„±í•˜ë©´ <code class="language-plaintext highlighter-rouge">1</code>ë§Œ ì¶œë ¥ëœë‹¤. ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œ?<br />
<br />
ë°”ë¡œ observerê°€ <code class="language-plaintext highlighter-rouge">1</code>ì„ nextì´ë²¤íŠ¸ë¡œ ì „ë‹¬í•œ ë‹¤ìŒ, completedì´ë²¤íŠ¸ë¥¼ í†µí•´ ì¢…ë£Œë˜ì–´ ê·¸ ë‹¤ìŒ ì „ë‹¬ë°›ì€ elementëŠ” êµ¬ë…ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì´ë‹¤.<br />
<br />
ê·¸ë ‡ë‹¤ë©´ completedì´ë²¤íŠ¸ì™€ ìœ ì‚¬í•˜ê²Œ ì¢…ë£Œì‹œí‚¤ëŠ” errorì´ë²¤íŠ¸ëŠ” ì–´ë–»ê²Œ ë°˜ì‘í• ê¹Œ?</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="c1">// create 2</span>
<span class="kd">enum</span> <span class="kt">MyError</span><span class="p">:</span> <span class="kt">Error</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">anError</span>
<span class="p">}</span>

<span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;.</span><span class="n">create</span> <span class="p">{</span> <span class="n">observer</span> <span class="o">-&gt;</span> <span class="kt">Disposable</span> <span class="k">in</span>
    <span class="n">observer</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">observer</span><span class="o">.</span><span class="nf">onError</span><span class="p">(</span><span class="kt">MyError</span><span class="o">.</span><span class="n">anError</span><span class="p">)</span>
    <span class="n">observer</span><span class="o">.</span><span class="nf">onCompleted</span><span class="p">()</span>
    <span class="n">observer</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="kt">Disposables</span><span class="o">.</span><span class="nf">create</span><span class="p">()</span>
<span class="p">}</span>
<span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span>
    <span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ì—ëŸ¬ë°œìƒ : </span><span class="se">\(</span><span class="nv">$0</span><span class="o">.</span><span class="n">localizedDescription</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nv">onCompleted</span><span class="p">:</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"completed!"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nv">onDisposed</span><span class="p">:</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"disposed!"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>

<span class="cp">#=&gt; prints 1</span>
<span class="cp">#=&gt; prints ì—ëŸ¬ë°œìƒ : The operation couldnâ€™t be completed. (__lldb_expr_25.MyError error 0.)</span>
<span class="cp">#=&gt; prints disposed!</span></code></pre></figure>

<p>ì„ì˜ì˜ ì—ëŸ¬ <code class="language-plaintext highlighter-rouge">anError</code>ë¥¼ ìƒì„±í•œ í›„ <code class="language-plaintext highlighter-rouge">create</code>ë¡œ Observableì„ ìƒì„±í•˜ì˜€ë‹¤.<br />
<br />
ì²˜ìŒ nexì´ë²¤íŠ¸ë¡œ ì „ë‹¬ëœ <code class="language-plaintext highlighter-rouge">1</code>ì€ ë¬´ì‚¬íˆ ì¶œë ¥ë˜ì—ˆì§€ë§Œ ì´í›„ ì—ëŸ¬ê°€ ë°œìƒí•˜ê³  completedì´ë²¤íŠ¸ê¹Œì§€ ê°€ì§€ì•Šê³ , 2 ë˜í•œ ì¶œë ¥ë˜ì§€ ì•Šì•˜ë‹¤.<br />
í•˜ì§€ë§Œ Observableì´ ì¢…ë£Œë˜ê³  <code class="language-plaintext highlighter-rouge">disposed</code>ê°€ ì‹¤í–‰ëœ ê²ƒì€ í™•ì¸í•  ìˆ˜ ìˆë‹¤.<br />
<br />
ì ê·¸ëŸ¼ error, completed, disposed ëª¨ë‘ ìƒì„±í•˜ì§€ ì•Šê³  Observableì„ ë§Œë“¤ë©´ ì–´ë–»ê²Œ ë ê¹Œ?</p>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="kt">Observable</span><span class="o">.</span><span class="n">create</span> <span class="p">{</span> <span class="n">observer</span> <span class="o">-&gt;</span> <span class="kt">Disposable</span> <span class="k">in</span>
    <span class="n">observer</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">observer</span><span class="o">.</span><span class="nf">onNext</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">return</span> <span class="kt">Disposables</span><span class="o">.</span><span class="nf">create</span><span class="p">()</span>
<span class="p">}</span>
<span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span>
    <span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nv">onError</span><span class="p">:</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"ì—ëŸ¬ë°œìƒ : </span><span class="se">\(</span><span class="nv">$0</span><span class="o">.</span><span class="n">localizedDescription</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nv">onCompleted</span><span class="p">:</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"completed!"</span><span class="p">)</span>
    <span class="p">},</span>
    <span class="nv">onDisposed</span><span class="p">:</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"disposed!"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="cp">#=&gt; prints 1</span>
<span class="cp">#=&gt; prints 2</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">disposed</code>, error, completed ì´ë²¤íŠ¸ ëª¨ë‘ ì—†ìœ¼ë¯€ë¡œ ê²°ê³¼ì ìœ¼ë¡œ Observableì€ ì¢…ë£Œë˜ì§€ ì•Šê³  ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí•  ê²ƒì´ë‹¤.<br />
<br />
ë”°ë¼ì„œ ë°˜ë“œì‹œ Observableì„ ìƒì„±í•  ë• <code class="language-plaintext highlighter-rouge">disposed</code>ë¥¼ ì‘ì„±í•´ì£¼ë„ë¡ í•˜ì.</p>

<h2 id="2-deferred">2. deferred</h2>
<p>deferredëŠ” Observableì„ ë§Œë“œëŠ” ëŒ€ì‹ ì—, êµ¬ë…ì´ ë˜ê¸° ì „ê¹Œì§€ Observable ìƒì„±ì„ ì§€ì—°í•˜ê³  êµ¬ë…ì´ ì‹œì‘ë˜ë©´ ìƒˆë¡­ê²Œ Observableì„ ì œê³µí•˜ëŠ” Observable Factory í˜•ì‹ì´ë‹¤.<br />
<br />
êµ‰ì¥íˆ ì´í•´í•˜ê¸° ì–´ë ¤ìš´ ë‚´ìš©ì¸ë°, ì‰½ê²Œ í’€ì–´ë³´ë©´</p>
<ol>
  <li>êµ¬ë…í•˜ê¸° ì „ì—” â€˜ëŒ€ê¸°ìƒíƒœì˜ Observableâ€™</li>
  <li>êµ¬ë…ì„ ì‹œì‘í•˜ë©´ â€˜ì§„ì§œë¡œ ìƒì„±ëœ Observableâ€™<br />
<br />
ì˜ˆì‹œë¥¼ í†µí•´ í™•ì¸í•˜ì.</li>
</ol>

<figure class="highlight"><pre><code class="language-swift" data-lang="swift"><span class="k">var</span> <span class="nv">ë’¤ì§‘ê¸°</span><span class="p">:</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="kc">false</span>

<span class="k">let</span> <span class="nv">factory</span><span class="p">:</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span> <span class="o">=</span> <span class="kt">Observable</span><span class="o">.</span><span class="n">deferred</span> <span class="p">{</span>
    <span class="n">ë’¤ì§‘ê¸°</span> <span class="o">=</span> <span class="o">!</span><span class="n">ë’¤ì§‘ê¸°</span>

    <span class="k">if</span> <span class="n">ë’¤ì§‘ê¸°</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">Observable</span><span class="o">.</span><span class="nf">of</span><span class="p">(</span><span class="s">"ğŸ‘"</span><span class="p">)</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">Observable</span><span class="o">.</span><span class="nf">of</span><span class="p">(</span><span class="s">"ğŸ‘"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">for</span> <span class="n">_</span> <span class="k">in</span> <span class="mi">0</span><span class="o">...</span><span class="mi">3</span> <span class="p">{</span>
    <span class="n">factory</span><span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">onNext</span><span class="p">:</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span>
    <span class="p">})</span>
        <span class="o">.</span><span class="nf">disposed</span><span class="p">(</span><span class="nv">by</span><span class="p">:</span> <span class="n">disposeBag</span><span class="p">)</span>
<span class="p">}</span>

<span class="cp">#=&gt; prints ğŸ‘</span>
<span class="cp">#=&gt; prints ğŸ‘</span>
<span class="cp">#=&gt; prints ğŸ‘</span>
<span class="cp">#=&gt; prints ğŸ‘</span></code></pre></figure>

<p><code class="language-plaintext highlighter-rouge">factory</code>ëŠ” ì²˜ìŒ ì„ ì–¸ë  ë•Œ <code class="language-plaintext highlighter-rouge">deferred</code>ëœ Observableë¡œ ì„ ì–¸ë˜ì—ˆê¸° ë•Œë¬¸ì— ëŒ€ê¸°ìƒíƒœì´ë‹¤.<br />
<br />
ê·¸ë¦¬ê³  Bool íƒ€ì…ì¸ <code class="language-plaintext highlighter-rouge">ë’¤ì§‘ê¸°</code> ë³€ìˆ˜ëŠ” ì²˜ìŒì—” <code class="language-plaintext highlighter-rouge">false</code>ì´ë‹¤.<br />
<br />
ì´í›„ êµ¬ë…ë¨ì— ë”°ë¼ <code class="language-plaintext highlighter-rouge">factory</code>ëŠ” ëŒ€ê¸°ìƒíƒœê°€ í’€ë¦¬ë©´ì„œ <code class="language-plaintext highlighter-rouge">deferred</code>ë‚´ì˜ <code class="language-plaintext highlighter-rouge">ë’¤ì§‘ê¸° = !ë’¤ì§‘ê¸°</code>ê°€ ì‹¤í–‰ë˜ì—ˆê¸° ë•Œë¬¸ì— <code class="language-plaintext highlighter-rouge">ë’¤ì§‘ê¸° = true</code>ê°€ ë˜ê³ , <code class="language-plaintext highlighter-rouge">ğŸ‘</code>ì´ ì¶œë ¥ëœë‹¤.<br />
<br />
ê·¸ ë‹¤ìŒ ë°˜ë³µì—ì„œë„ ìœ„ì™€ ê°™ì€ ê³¼ì •ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">ë’¤ì§‘ê¸°</code>ì˜ Boolê°’ì´ ë³€í•˜ë©´ì„œ ì¶œë ¥ëœë‹¤.<br />
<br />
ë‹¤ì‹œí•œë²ˆ ì •ë¦¬í•˜ìë©´, Observable deferredëŠ” Observable factoryë¥¼ í†µí•´ì„œ sequenceë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ì—°ì‚°ìì´ë‹¤.</p>

<h2 id="3-ë§ˆë¬´ë¦¬">3. ë§ˆë¬´ë¦¬</h2>
<p>ì§€ê¸ˆê¹Œì§€ ë‘ê°œì˜ í¬ìŠ¤íŒ…ì„ í†µí•´ Observableì˜ ê¸°ë³¸ì´ ë˜ëŠ” ìƒì„± Operatorë“¤ê³¼ disposeì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ë‹¤.<br />
<br />
ë‹¤ìŒì€ Observableë³´ë‹¤ ì¡°ê¸ˆ ì‘ì€ ê°œë…ì¸ Single, Maybe, Completableì— ëŒ€í•´ ì•Œì•„ë³´ë„ë¡ í•˜ì.</p>

<p><br /><br /><br /><br />
ì¶œì²˜ : 30ê°œ í”„ë¡œì íŠ¸ë¡œ ë°°ìš°ëŠ” iOS ì•± ê°œë°œ with Swift ì´ˆê²©ì°¨ íŒ¨í‚¤ì§€ Online - part 4. Github ì•± ë§Œë“¤ê¸°</p>
:ET